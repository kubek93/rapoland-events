---
// src/components/Nav.astro
---

<nav class="navbar sticky bg-blue-950 top-0 z-50 backdrop-blur-sm bg-opacity-90">
  <div class="container mx-auto px-4">
    <div class="flex justify-between items-center py-3">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="nav-link hover:text-red-500 transition-colors">
          <img class="h-12" src="https://www.rapoland.nl/back/wp-content/themes/revelio/images/logo.png" alt="Rapoland.nl logo" />
        </a>
      </div>

      <!-- Desktop Links -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="/" class="nav-link text-white hover:text-red-500 font-medium px-3 py-2 rounded-lg hover:bg-white/10 transition-all">Home</a>
        <a href="/news" class="nav-link text-white hover:text-red-500 font-medium px-3 py-2 rounded-lg hover:bg-white/10 transition-all">Aktualności</a>
        <a href="/kontakt" class="nav-link text-white hover:text-red-500 font-medium px-3 py-2 rounded-lg hover:bg-white/10 transition-all">Kontakt</a>
      </div>

      <!-- Mobile Button -->
      <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none p-2 rounded-lg hover:bg-white/10 transition-all" aria-label="Menu">
        <i class="fas fa-bars text-2xl transition-transform duration-300 hamburger"></i>
      </button>
    </div>

    <!-- Mobile Menu (Overlay Style) -->
    <div id="mobile-menu" class="mobile-menu fixed inset-0 bg-blue-950/95 backdrop-blur-lg z-40 translate-x-full transition-transform duration-300 md:hidden">
      <div class="container mx-auto px-4 pt-24">
        <button id="mobile-close-button" class="absolute top-6 right-4 text-white p-2 text-2xl">
          <i class="fas fa-times"></i>
        </button>

        <div class="flex flex-col space-y-6 text-center">
          <a href="/" class="nav-link text-white text-2xl font-bold py-4 hover:text-red-500 transition-colors border-b border-white/10">Home</a>
          <a href="/news" class="nav-link text-white text-2xl font-bold py-4 hover:text-red-500 transition-colors border-b border-white/10">Aktualności</a>
          <a href="/kontakt" class="nav-link text-white text-2xl font-bold py-4 hover:text-red-500 transition-colors border-b border-white/10">Kontakt</a>

          <!-- Social Icons -->
          <div class="flex justify-center space-x-6 pt-8">
            <a href="#" class="text-white hover:text-red-500 text-xl transition-colors">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="text-white hover:text-red-500 text-xl transition-colors">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="text-white hover:text-red-500 text-xl transition-colors">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>

<script>
  // Mobile menu toggle
  const menuButton = document.getElementById('mobile-menu-button');
  const closeButton = document.getElementById('mobile-close-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const hamburger = document.querySelector('.hamburger');

  menuButton.addEventListener('click', () => {
    mobileMenu.classList.remove('translate-x-full');
    hamburger.classList.add('rotate-90');
    document.body.style.overflow = 'hidden';
  });

  closeButton.addEventListener('click', () => {
    mobileMenu.classList.add('translate-x-full');
    hamburger.classList.remove('rotate-90');
    document.body.style.overflow = '';
  });

  // Close menu when clicking on links
  document.querySelectorAll('#mobile-menu a').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.add('translate-x-full');
      hamburger.classList.remove('rotate-90');
      document.body.style.overflow = '';
    });
  });
</script>

<style>
  .nav-link {
    position: relative;
  }

  .mobile-menu {
    height: 100vh;
    width: 100vw;
  }

  @media (min-width: 768px) {
    .mobile-menu {
      display: none !important;
    }
  }
</style>
